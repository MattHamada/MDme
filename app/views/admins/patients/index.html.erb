<%= provide(:title, 'Patients') %>
<div>
  <div class="row">
    <div class="col-md-12"><h2>Patients</h2></div>
  </div>
  <div style="margin: 2em">
    <% @patients.each_with_index do |patient, index| %>
      <% if index%4 == 0 %>
        <div class="row">
      <% end %>
      <div class="col-md-4">
        <div class="card" style="text-align: center;">
          <%= image_tag(patient.avatar_thumb_url, :class=>'card-img-top', :alt=>'patient image') %>
          <div class="card-block" style="text-align: center;">
            <h4 class="card-title"><%= patient.full_name %></h4>
          </div>
        </div>
      </div>
      <% if index%4 == 3 || index == (@patients.length - 1) %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <div class="panel panel-default">
      <div class="panel-heading"><h4>Patient Index</h4></div>
      <div class="panel-body panel-inverse">
        <table class='table table-striped table-bordered table-condensed table-inverse'>
          <thread>
            <tr>
              <th>#</th>
              <th>Name</th>
            </tr>
            <tbody>
            <% @patients.each_with_index do |patient, index| %>
              <tr>
                <td class="popup-links"><%= link_to("#{index+1}", admin_patient_path(@admin, patient)) %></td>
                <td><%= patient.full_name %></td>
              </tr>
            <% end %>
            </tbody>
          </thread>
        </table>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="row">
      <div class="col-xs-12 inverse-color">
            <%= link_to "Add Patient", new_admin_patient_path(@admin) %> <br/>
            <%= link_to "Search for Patient", admin_patients_browse_path(@admin) %>
      </div>
    </div>
  </div>
</div>

